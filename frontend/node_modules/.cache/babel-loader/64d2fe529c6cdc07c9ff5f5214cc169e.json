{"ast":null,"code":"const express = require(\"express\");\n\nconst app = express();\n\nconst mysql = require(\"mysql2\");\n\nconst cors = require(\"cors\");\n\napp.use(cors());\napp.use(express.json());\n\nvar upload = require('./multer');\n\nconst db = mysql.createConnection({\n  user: \"root\",\n  host: \"localhost\",\n  password: \"123456789\",\n  database: \"dxproject\"\n}); // CATEGORY INSERT\n\napp.post(\"/insertCategory\", upload.single('image'), (req, res) => {\n  const categoryName = req.body.categoryName;\n  const image = req.file.originalname;\n  console.log(categoryName + \" ,\" + image);\n\n  try {\n    db.query(\"INSERT INTO category(categoryName, image) VALUES (?,?)\", [categoryName, image], function (error, result) {\n      if (error) {\n        console.log(error);\n        res.status(500).json({\n          result: false\n        });\n      } else {\n        res.status(200).json({\n          result: true\n        });\n      }\n    });\n  } catch (e) {\n    res.status(500).json({\n      result: false\n    });\n  }\n});\napp.get(\"/employees\", (req, res) => {\n  db.query(\"SELECT * FROM employees\", (err, result) => {\n    if (err) {\n      console.log(err);\n    } else {\n      res.send(result);\n    }\n  });\n}); // app.put(\"/update\", (req, res) => {\n//   const id = req.body.id;\n//   const name = req.body.name;\n//   const age = req.body.age;\n//   const country = req.body.country;\n//   const position = req.body.position;\n//   const wage = req.body.wage;\n//   db.query(\n//     \"UPDATE employees SET name = ? age = ? country = ? position = ? wage = ?  WHERE id = ?\",\n//     [name,age,country,position,wage, id],\n//     (err, result) => {\n//       if (err) {\n//         console.log(err);\n//       } else {\n//         res.send(result);\n//       }\n//     }\n//   );\n// });\n\napp.listen(3001, () => {\n  console.log(\"Yey, your server is running on port 3001\");\n});","map":{"version":3,"names":["express","require","app","mysql","cors","use","json","upload","db","createConnection","user","host","password","database","post","single","req","res","categoryName","body","image","file","originalname","console","log","query","error","result","status","e","get","err","send","listen"],"sources":["/Users/manpreetkaur/Desktop/DX Factor Work Work/Project/frontend/src/Admin/Product.js"],"sourcesContent":["const express = require(\"express\");\nconst app = express();\nconst mysql = require(\"mysql2\");\nconst cors = require(\"cors\");\n\n\n\napp.use(cors());\napp.use(express.json());\nvar upload = require('./multer')\n\n\n\nconst db = mysql.createConnection({\n  user: \"root\",\n  host: \"localhost\",\n  password: \"123456789\",\n  database: \"dxproject\",\n});\n\n\n// CATEGORY INSERT\n\napp.post(\"/insertCategory\", upload.single('image'), (req, res) => {\n  \n  const categoryName = req.body.categoryName;  \n  const image = req.file.originalname;\n\n  console.log(categoryName +\" ,\"+ image);\n  try{\n    db.query(\n      \"INSERT INTO category(categoryName, image) VALUES (?,?)\",\n      [categoryName, image],\n      function(error, result)  {\n        if(error)\n   {console.log(error)\n   res.status(500).json({result:false})\n   }\n   else\n   {\n    res.status(200).json({result:true})\n   }\n   })\n  }catch(e){\n    res.status(500).json({result:false});\n\n  }\n});\n\n\napp.get(\"/employees\", (req, res) => {\n  db.query(\"SELECT * FROM employees\", (err, result) => {\n    if (err) {\n      console.log(err);\n    } else {\n      res.send(result);\n    }\n  });\n});\n\n// app.put(\"/update\", (req, res) => {\n//   const id = req.body.id;\n//   const name = req.body.name;\n//   const age = req.body.age;\n//   const country = req.body.country;\n//   const position = req.body.position;\n//   const wage = req.body.wage;\n//   db.query(\n//     \"UPDATE employees SET name = ? age = ? country = ? position = ? wage = ?  WHERE id = ?\",\n//     [name,age,country,position,wage, id],\n//     (err, result) => {\n//       if (err) {\n//         console.log(err);\n//       } else {\n//         res.send(result);\n//       }\n//     }\n//   );\n// });\n\n\n\n\n\napp.listen(3001, () => {\n  console.log(\"Yey, your server is running on port 3001\");\n});"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGF,OAAO,EAAnB;;AACA,MAAMG,KAAK,GAAGF,OAAO,CAAC,QAAD,CAArB;;AACA,MAAMG,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AAIAC,GAAG,CAACG,GAAJ,CAAQD,IAAI,EAAZ;AACAF,GAAG,CAACG,GAAJ,CAAQL,OAAO,CAACM,IAAR,EAAR;;AACA,IAAIC,MAAM,GAAGN,OAAO,CAAC,UAAD,CAApB;;AAIA,MAAMO,EAAE,GAAGL,KAAK,CAACM,gBAAN,CAAuB;EAChCC,IAAI,EAAE,MAD0B;EAEhCC,IAAI,EAAE,WAF0B;EAGhCC,QAAQ,EAAE,WAHsB;EAIhCC,QAAQ,EAAE;AAJsB,CAAvB,CAAX,C,CAQA;;AAEAX,GAAG,CAACY,IAAJ,CAAS,iBAAT,EAA4BP,MAAM,CAACQ,MAAP,CAAc,OAAd,CAA5B,EAAoD,CAACC,GAAD,EAAMC,GAAN,KAAc;EAEhE,MAAMC,YAAY,GAAGF,GAAG,CAACG,IAAJ,CAASD,YAA9B;EACA,MAAME,KAAK,GAAGJ,GAAG,CAACK,IAAJ,CAASC,YAAvB;EAEAC,OAAO,CAACC,GAAR,CAAYN,YAAY,GAAE,IAAd,GAAoBE,KAAhC;;EACA,IAAG;IACDZ,EAAE,CAACiB,KAAH,CACE,wDADF,EAEE,CAACP,YAAD,EAAeE,KAAf,CAFF,EAGE,UAASM,KAAT,EAAgBC,MAAhB,EAAyB;MACvB,IAAGD,KAAH,EACL;QAACH,OAAO,CAACC,GAAR,CAAYE,KAAZ;QACDT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBtB,IAAhB,CAAqB;UAACqB,MAAM,EAAC;QAAR,CAArB;MACC,CAHI,MAKL;QACCV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBtB,IAAhB,CAAqB;UAACqB,MAAM,EAAC;QAAR,CAArB;MACA;IACA,CAZA;EAaD,CAdD,CAcC,OAAME,CAAN,EAAQ;IACPZ,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBtB,IAAhB,CAAqB;MAACqB,MAAM,EAAC;IAAR,CAArB;EAED;AACF,CAxBD;AA2BAzB,GAAG,CAAC4B,GAAJ,CAAQ,YAAR,EAAsB,CAACd,GAAD,EAAMC,GAAN,KAAc;EAClCT,EAAE,CAACiB,KAAH,CAAS,yBAAT,EAAoC,CAACM,GAAD,EAAMJ,MAAN,KAAiB;IACnD,IAAII,GAAJ,EAAS;MACPR,OAAO,CAACC,GAAR,CAAYO,GAAZ;IACD,CAFD,MAEO;MACLd,GAAG,CAACe,IAAJ,CAASL,MAAT;IACD;EACF,CAND;AAOD,CARD,E,CAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAMAzB,GAAG,CAAC+B,MAAJ,CAAW,IAAX,EAAiB,MAAM;EACrBV,OAAO,CAACC,GAAR,CAAY,0CAAZ;AACD,CAFD"},"metadata":{},"sourceType":"module"}